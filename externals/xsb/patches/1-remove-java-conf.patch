--- upstream.original/XSB/build/configure	2017-10-29 23:38:00.000000000 +0300
+++ upstream.patched/XSB/build/configure	2018-02-14 12:27:36.000000000 +0300
@@ -6836,135 +6836,6 @@
 XSBMOD_LDFLAGS="${ld_site_libraries} ${XSBMOD_LDFLAGS}"
 
 
-####### Java support
-java_compiler=
-interprolog_native_engine=
-JAVA_HEADER_PATH=
-JAVA_PLATFORM_HEADER_PATH=
-
-if test -z "$JAVA_HOME"; then
-        # Extract the first word of "javac", so it can be a program name with args.
-set dummy javac; ac_word=$2
-{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
-$as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_java_path+:} false; then :
-  $as_echo_n "(cached) " >&6
-else
-  case $java_path in
-  [\\/]* | ?:[\\/]*)
-  ac_cv_path_java_path="$java_path" # Let the user override the test with a path.
-  ;;
-  *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z "$as_dir" && as_dir=.
-    for ac_exec_ext in '' $ac_executable_extensions; do
-  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
-    ac_cv_path_java_path="$as_dir/$ac_word$ac_exec_ext"
-    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-  done
-IFS=$as_save_IFS
-
-  test -z "$ac_cv_path_java_path" && ac_cv_path_java_path="no"
-  ;;
-esac
-fi
-java_path=$ac_cv_path_java_path
-if test -n "$java_path"; then
-  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $java_path" >&5
-$as_echo "$java_path" >&6; }
-else
-  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
-$as_echo "no" >&6; }
-fi
-
-
-    java_path=`dirname "$java_path"`   # strip /javac
-    java_path=`dirname "$java_path"`   # strip /bin
-    java_compiler="$java_path/javac"
-    java_path="$java_path/include"
-else
-    java_path="$JAVA_HOME/include"
-    java_compiler="$JAVA_HOME/bin/javac"
-fi
-
-java_platform_specific_hdr_path="`ls "${java_path}/"*/jni_md.h`"
-java_platform_specific_hdr_path="`dirname "${java_platform_specific_hdr_path}"`"
-java_platform_specific_hdr_path_alt="`ls "${java_path}/"jni_md.h`"
-java_platform_specific_hdr_path_alt="`dirname "${java_platform_specific_hdr_path_alt}"`"
-
-if test -f "$java_path/jni.h" -a -f "$java_platform_specific_hdr_path/jni_md.h" ; then
-    interprolog_native_engine=yes
-    JAVA_HEADER_PATH="${java_path}"
-    JAVA_PLATFORM_HEADER_PATH="${java_platform_specific_hdr_path}"
-    echo "Obtaining Java header files form ${JAVA_HEADER_PATH} and ${JAVA_PLATFORM_HEADER_PATH}"
-elif test -f "$java_path/jni.h" -a -f "$java_platform_specific_hdr_path_alt/jni_md.h" ; then
-    interprolog_native_engine=yes
-    JAVA_HEADER_PATH="${java_path}"
-    JAVA_PLATFORM_HEADER_PATH="${java_platform_specific_hdr_path_alt}"
-    echo "Obtaining Java header files form ${JAVA_HEADER_PATH} and ${JAVA_PLATFORM_HEADER_PATH}"
-fi
-
-# If interprolog_native_engine still empty,
-# try to find jni.h and jni_md.h using AC_CHECK_HEADERS
-if test -z "${interprolog_native_engine}" ; then
-    for ac_header in jni.h jni_md.h
-do :
-  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
-ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
-  cat >>confdefs.h <<_ACEOF
-#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
-_ACEOF
- interprolog_native_engine=yes
-else
-  interprolog_native_engine=
-fi
-
-done
-
-    java_compiler=`which javac 2> /dev/null`
-    if test -n "${interprolog_native_engine}" ; then
-	echo "Found Java header files using CFLAGS"
-    fi
-fi
-
-
-
-INTERPROLOGSRC=""
-INTERPROLOGOBJ=""
-
-if test "$interprolog_native_engine" = "yes"; then
-    $as_echo "#define XSB_INTERPROLOG 1" >>confdefs.h
-
-    XSB_INTERPROLOG=1
-
-    INTERPROLOGSRC="interprolog_callback.c"
-    INTERPROLOGOBJ="interprolog_callback.o"
-
-    if test -n "$JAVA_HEADER_PATH" ; then
-	loaderCFLAGS=" -I${JAVA_HEADER_PATH} ${loaderCFLAGS}"
-	builtinsCFLAGS=" -I${JAVA_HEADER_PATH} ${builtinsCFLAGS}"
-	emuloopCFLAGS=" -I${JAVA_HEADER_PATH} ${emuloopCFLAGS}"
-	trutilsCFLAGS=" -I${JAVA_HEADER_PATH} ${trutilsCFLAGS}"
-	CFLAGS=" -I${JAVA_HEADER_PATH} $CFLAGS"
-    fi
-fi
-
-# If --with-cflags=something is given add "something" at the end of CFLAGS
-CFLAGS=" $CFLAGS $with_cflags "
-
-
-
-
-####### end of Java support
-
-
 os_version=`echo $host_os | sed -e 's/[^0-9]*//'`
 os_type=`echo $host_os | sed -e 's/[0-9].*$//'`
 
